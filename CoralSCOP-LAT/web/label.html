<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Label Page</title>
        <link
            rel="stylesheet"
            href="css/fontawesome-free-6.6.0-web/css/all.min.css"
        />
        <link rel="stylesheet" href="css/util.css" />
        <link rel="stylesheet" href="css/page.css" />
        <link rel="stylesheet" href="css/labelPage/defaultPage.css" />
        <link rel="stylesheet" href="css/dropdownMenu.css" />
        <link rel="stylesheet" href="css/topNavigationBar.css" />
        <link rel="stylesheet" href="css/bottomNavigationBar.css" />
        <link rel="stylesheet" href="css/labelPage/modeView.css" />
        <link rel="stylesheet" href="css/labelPage/sliderView.css" />
        <link rel="stylesheet" href="css/labelPage/middleContentView.css" />
        <link rel="stylesheet" href="css/labelPage/labelView.css" />
        <link rel="stylesheet" href="css/labelPage/contentView.css" />
        <link rel="stylesheet" href="css/labelPage/labelPage.css" />
        <link rel="stylesheet" href="css/labelPage/statisticPage.css" />

        <!-- Setting Page -->
        <link rel="stylesheet" href="css/labelPage/settingPage.css" />
    </head>
    <body>
        <div class="topnav" id="myTopnav">
            <div id="icon" class="icon-container">
                <img src="images/coralscan_icon.png" alt="icon" />
            </div>
            <div class="icon-text">CoralSCOP-LAT</div>
            <button
                id="back-to-main-page-button"
                onclick="navigateTo('main_page.html')"
            >
                Back To Main Page
            </button>
            <button id="file-button">File</button>
            <button id="label-button" class="active">Label</button>
            <button id="statistic-button">Statistic</button>
            <button id="setting-button">Setting</button>
        </div>

        <div id="file-dropdown-menu" class="dropdown-content">
            <button id="load-project-button">Load Project</button>
            <button id="export-coco-button">Export COCO</button>
            <button id="export-excel-button">Export Excel</button>
            <button id="export-graph-button">Export Graph</button>
            <button id="export-all-button">Export All</button>
        </div>

        <div id="label-dropdown-menu" class="dropdown-content">
            <button id="delete-label-button">Delete Label</button>
        </div>

        <div id="annotationPage" class="page active-page">
            <div class="contentView">
                <div class="modeView">
                    <div class="radioContainer">
                        <div class="radio-section">
                            <div class="radio-item">
                                <input
                                    name="editMode"
                                    id="label-mask-button"
                                    type="radio"
                                    value="0"
                                    checked
                                /><label for="label-mask-button"
                                    >Label Mask</label
                                >
                            </div>
                            <div class="radio-item">
                                <input
                                    name="editMode"
                                    id="add-mask-button"
                                    type="radio"
                                    value="1"
                                /><label for="add-mask-button">Add Mask</label>
                            </div>
                            <div class="radio-item">
                                <input
                                    name="editMode"
                                    id="remove-mask-button"
                                    type="radio"
                                    value="2"
                                />
                                <label for="remove-mask-button"
                                    >Remove Mask</label
                                >
                            </div>
                        </div>
                    </div>
                    <div id="actionContainer" class="actionContainer">
                        <div id="undo-button" class="actionButton hidden">
                            Undo
                        </div>
                        <div id="reset-button" class="actionButton hidden">
                            Reset
                        </div>
                        <div id="confirm-button" class="actionButton hidden">
                            Confirm
                        </div>
                    </div>
                </div>
                <div class="sliderView">
                    <div class="text">Mask</div>
                    <div class="text">Solid</div>
                    <div class="slider">
                        <input id="mask-opacity-silder" type="range" />
                    </div>
                    <div class="text">Transparent</div>
                </div>
                <div class="middleContentView">
                    <div id="progress-info" class="info">Image Name (0/0)</div>
                    <div class="progress-container round-xlarge">
                        <div
                            id="progress-bar"
                            class="progressbar round-xlarge"
                            style="width: 0%"
                        ></div>
                    </div>
                    <canvas id="canvas" class="canvas"></canvas>
                </div>
                <div class="labelView">
                    <div class="inputForm">
                        <input
                            id="search-input"
                            type="text"
                            placeholder="Search ..."
                            name="search"
                        />
                        <button id="search-button" type="submit">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>
                    <div class="inputForm">
                        <input
                            id="add-category-input"
                            type="text"
                            placeholder="Add ..."
                            name="add"
                        />
                        <button id="add-category-button" type="submit">
                            <i class="fa-solid fa-plus"></i>
                        </button>
                    </div>
                    <div class="bar"></div>
                    <div class="statusContainer">
                        <div class="radio-item">
                            <input
                                name="status"
                                id="status-1-button"
                                type="radio"
                                value="0"
                                checked
                            /><label for="status-1-button">Healthy</label>
                        </div>
                        <div class="radio-item">
                            <input
                                name="status"
                                id="status-2-button"
                                type="radio"
                                value="1"
                            /><label for="status-2-button">Bleached</label>
                        </div>
                        <div class="radio-item">
                            <input
                                name="status"
                                id="status-3-button"
                                type="radio"
                                value="2"
                            />
                            <label for="status-3-button">Dead</label>
                        </div>
                    </div>
                    <div class="bar"></div>
                    <div id="label-container" class="labelContainer"></div>
                </div>
            </div>
        </div>

        <div id="statisticPage" class="page statistic-page">
            <div class="statistic-content-container">
                <section class="chart-group">
                    <h2 class="group-title">Statistic Report</h2>
                    <div id="current-image-grid" class="charts-grid"></div>
                </section>
            </div>
            <template id="chart-item-template">
                <div class="chart-item">
                    <div class="chart"></div>
                    <button class="download-btn">Download PNG</button>
                </div>
            </template>
        </div>
        <div id="settingPage" class="page">
            <div class="setting-container">
                <button id="save-setting-button" class="save-button">
                    Save Settings
                </button>
                <div class="settings-group">
                    <div class="group-header">Mask Display</div>
                    <p>Filter out the unwanted masks generated by model.</p>

                    <div class="setting-item">
                        <label id="min-area-text" for="min-area-slider"
                            >Min Area:</label
                        >
                        <input
                            type="range"
                            id="min-area-slider"
                            name="min-area"
                            min="0"
                            max="20"
                            step="0.1"
                        />
                        <div class="setting-description">
                            Filter out the masks that is too small. (in % of
                            pixel area of the image). Range (0-20)
                        </div>
                    </div>

                    <div class="setting-item">
                        <label
                            id="min-confidence-text"
                            for="min-confidence-slider"
                            >Min Confidence</label
                        >
                        <input
                            type="range"
                            id="min-confidence-slider"
                            name="min-confidence"
                            min="0"
                            max="100"
                        />
                        <div class="setting-description">
                            Filter out the masks that is too low confidence. It
                            can increase the reliability of the annotation. (in
                            %).
                        </div>
                    </div>

                    <div class="setting-item">
                        <label id="max-overlap-text" for="max-overlap-slider"
                            >Max Overlap</label
                        >
                        <input
                            type="range"
                            id="max-overlap-slider"
                            name="max-overlap"
                            min="0"
                            max="100"
                        />
                        <div class="setting-description">
                            Filter out the masks that overlap too much with
                            other masks. It overlaps is measured using
                            Intersection over Union (IoU). (in %).
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="defaultPage" class="page">
            <div class="default-div">
                <img
                    src="images/coralscan_icon.png"
                    alt="icon"
                    class="defualt-img"
                />
            </div>
        </div>

        <div class="bottomnav">
            <button id="prev-image-button">Prev Image (A)</button>
            <button id="reset-viewpoint-button">Reset View Point (W)</button>
            <button id="toogle-mask-button">Hide Mask (S)</button>
            <button id="next-image-button">Next Image (D)</button>
        </div>

        <template id="label-button-template">
            <div class="labelButton">
                <div class="colorBox"></div>
                <div class="labelText">New Label</div>
            </div>
        </template>
        <script src="./eel.js"></script>
        <script src="js/navigate.js"></script>
        <script src="js/label/canvas.js"></script>
        <script src="js/label/config.js"></script>
        <script src="js/label/dataset.js"></script>
        <script src="js/label/Label.js"></script>
        <script src="js/label/LabelView.js"></script>
        <script src="js/label/modeView.js"></script>
        <script src="js/label/topNavigationBar.js"></script>
        <script src="js/label/opacityView.js"></script>
        <script src="js/label/progressInfoView.js"></script>
        <script src="js/label/bottomNavigationBar.js"></script>
        <script src="js/label/core.js"></script>
        <script src="js/label/settingPage.js"></script>
        <script src="js/label/labelPage.js"></script>
        <script src="js/label/chart.js"></script>
        <script src="js/label/statisticPage.js"></script>
    </body>
</html>
